id: org.reend.candela
runtime: org.gnome.Platform
runtime-version: '46'
sdk: org.gnome.Sdk
command: candela

finish-args:
  # X11 + Wayland access
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  # Desktop integration
  - --device=dri
  # User data access for storing birthdays
  - --filesystem=xdg-data/candela:create
  # Access to user icon themes
  - --filesystem=~/.local/share/icons:ro
  - --filesystem=/usr/share/icons:ro
  # DConf access for GTK settings (themes, icons, accent colors, etc.)
  - --talk-name=ca.desrt.dconf
  - --filesystem=xdg-run/dconf
  - --filesystem=~/.config/dconf:ro
  - --env=DCONF_USER_CONFIG_DIR=.config/dconf
  # Portal access for system settings (accent color, etc.)
  - --talk-name=org.freedesktop.portal.Desktop
  - --talk-name=org.freedesktop.portal.Settings
  # GSettings schemas access
  - --filesystem=/usr/share/glib-2.0/schemas:ro
  - --filesystem=~/.local/share/glib-2.0/schemas:ro
  # Access to GTK config
  - --filesystem=xdg-config/gtk-4.0:ro

modules:
  - name: candela
    buildsystem: meson
    sources:
      - type: dir
        path: .

